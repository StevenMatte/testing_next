This is a [Next.js](https://nextjs.org) project bootstrapped with [`create-next-app`](https://nextjs.org/docs/app/api-reference/cli/create-next-app).

## Getting Started

First, run the development server:

```bash
npm run dev
# or
yarn dev
# or
pnpm dev
# or
bun dev
```

Open [http://localhost:3000](http://localhost:3000) with your browser to see the result.

You can start editing the page by modifying `app/page.tsx`. The page auto-updates as you edit the file.

This project uses [`next/font`](https://nextjs.org/docs/app/building-your-application/optimizing/fonts) to automatically optimize and load [Geist](https://vercel.com/font), a new font family for Vercel.

## Learn More

To learn more about Next.js, take a look at the following resources:

- [Next.js Documentation](https://nextjs.org/docs) - learn about Next.js features and API.
- [Learn Next.js](https://nextjs.org/learn) - an interactive Next.js tutorial.

You can check out [the Next.js GitHub repository](https://github.com/vercel/next.js) - your feedback and contributions are welcome!

## Deploy on Vercel

The easiest way to deploy your Next.js app is to use the [Vercel Platform](https://vercel.com/new?utm_medium=default-template&filter=next.js&utm_source=create-next-app&utm_campaign=create-next-app-readme) from the creators of Next.js.

Check out our [Next.js deployment documentation](https://nextjs.org/docs/app/building-your-application/deploying) for more details.

## So far:

## installation of prisma as orm

```bash
npm install prisma @prisma/client
```

## initialize prisma

```bash
npx prisma init
```

**IMPORTANT**
This will create prisma folder with schema.prisma.
this will give option to edit the db provider and adding more models

depend on your output, you need to change
import { PrismaClient } from '@prisma/client'
to where the generated client located.

```bash
generator client {
provider = "prisma-client-js"
// output = "../src/generated/prisma"
}
```

you can also comment like above so it will generated by default in it's node-module

## creating connstring in env

```bash
DATABASE_URL="mysql://root:1234@localhost:3388/next"
```

## adding model in schema.prisma,

```bash
model Movie {
  id Int @id @default(autoincrement())
  title String
  year Int
  description String
  image String
  createdAt DateTime @default(now())
}
```

## change db provider in schema provider into mysql

```bash
datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}
```

## generate client

```bash
npx prisma generate
```

## create seed.ts inside prisma dir

use the example from the seed.ts to seed

## install ts.node since prisma expect js only (skip if using seed.js),

```bash
npm install ts-node
```

_note_
it's recommended to use ts as it have autocomplete and will remind important keys.

## ensure to make seed script inside package.json

```bash
"prisma": {
    "seed": "ts-node --compiler-options {\"module\":\"CommonJS\"} prisma/seed.ts"
    }
```

## understanding rendering method

✅ If it runs before the page hits the browser → Server (SSR/ISR/SSG)
✅ If it runs after the page reaches the browser or requires browser events → Client (CSR)
**Rule of Thumb**

1. Does it require state change (form, modal, button)?
   Yes → CSR (Client-Side Rendering)

2. Does it not require state change, and the interaction is mainly navigation?
   No state change → Static (SSG/SSR/ISR)

**SSR(Server component) cannot**
❌ 1. Listen to Browser Events
Why?
Events like onClick, onScroll, onChange, onKeyDown — those are part of the browser's runtime environment.
When rendering on the server, there’s no browser window open, no DOM elements, no user interactions happening.
❌ 2. Access Browser APIs
Why?
APIs like window, document, localStorage, sessionStorage, navigator, fetch (the browser version), etc those only exist inside a browser.
❌ 3. Maintain State (the React way)
Why?
React state (useState, useReducer) exists inside the React runtime in the browser's memory.
When you run SSR, you’re rendering a one-off version of the page for that HTTP request.
❌ 4. Use useEffect
Why?
useEffect is a client-only hook.
It runs after the component mounts to the browser DOM (during hydration or after client-side navigation).

## Image proxy on ssr

⚙️ Why images don’t fully appear during SSR
During Server-Side Rendering (SSR), the HTML is rendered first — but images fetched via the proxy rely on the browser environment to actually load.

On the server, Next.js can generate the correct <img> tag or src URL pointing to \_next/image, but the actual image fetching happens after hydration (when the browser takes over).

That’s why you might see a placeholder (like alt text or a gray box) during SSR — and then the real image pops in once hydration is complete.

## Docker -task

## Figure out:

1. javascript inline di body (DEV)

   - Go to /test
   - Check dev tools
   - Check for js that has name similar name with the route and file name for this example it's a page in test route so src*app_test_page_tsx_8450df25.*.js is likely the closest
     http://localhost:3000/_next/static/chunks/src_app_test_page_tsx_8450df25._.js
   - This file (src*app_test_page_tsx_8450df25.*.js) is not the logic itself. It’s a Turbopack stub that tells the client to dynamically load another chunk
   - example how the js looks like:

   ```bash
    (globalThis.TURBOPACK_CHUNK_LISTS = globalThis.TURBOPACK_CHUNK_LISTS || []).push({
      script: typeof document === "object" ? document.currentScript : undefined,
      chunks: [
        "static/chunks/_af0e4191._.js"
      ],
      source: "dynamic"
    });
   ```

   - This is how Turbopack does lazy loading / module chunking. Your logic is actually inside that _af0e4191._.js file.
   - Open this file http://localhost:3000/_next/static/chunks/\_af0e4191._.js
   - This file should contain the logic for that component.
   - for convenient purpose here is the compiled js

   ```bash
   function Home() {
    _s();
    const [count, setCount] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])(0);
    // Simple JS function to handle button click
    const increment = ()=>{
        setCount(count + 1);
    };
    return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
        className: "container",
        children: [
            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("h1", {
                children: "Simple Page with JavaScript"
            }, void 0, false, {
                fileName: "[project]/src/app/test/page.tsx",
                lineNumber: 14,
                columnNumber: 7
            }, this),
            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("p", {
                children: "Click the button to increment the counter:"
            }, void 0, false, {
                fileName: "[project]/src/app/test/page.tsx",
                lineNumber: 15,
                columnNumber: 7
            }, this),
            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("button", {
                onClick: increment,
                children: "Click me!"
            }, void 0, false, {
                fileName: "[project]/src/app/test/page.tsx",
                lineNumber: 16,
                columnNumber: 7
            }, this),
            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("p", {
                children: [
                    "Counter: ",
                    count
                ]
            }, void 0, true, {
                fileName: "[project]/src/app/test/page.tsx",
                lineNumber: 17,
                columnNumber: 7
            }, this)
        ]
    }, void 0, true, {
        fileName: "[project]/src/app/test/page.tsx",
        lineNumber: 13,
        columnNumber: 5
    }, this);
   }
   ```

2. load javascript via url (How does javascript came into nextJS?) (DEV)

   - Put the CDN in the head at root
   - Example

   ```bash
   export default function RootLayout({ children }: Readonly<{ children: React.ReactNode }>) {
   return (
     <html lang="en">
       <head>
         <script src="https://cdn.jsdelivr.net/npm/lodash@4.17.21/lodash.min.js" async></script>
       </head>
       <body className={`${geistSans.variable} ${geistMono.variable} antialiased`}>{children}</body>
     </html>
   );
   }

   ```

## Mistake

https://www.youtube.com/watch?v=RBM03RihZVs
